(window.webpackJsonp=window.webpackJsonp||[]).push([[77,39],{326:function(e,t,n){var content=n(329);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(121).default)("d45f686e",content,!0,{sourceMap:!1})},328:function(e,t,n){"use strict";n(326)},329:function(e,t,n){var r=n(120)(function(i){return i[1]});r.push([e.i,".payment_part a{color:#000;font-size:12px;font-weight:400;margin-right:10px;text-transform:capitalize;transition:all .4s ease-in-out}",""]),r.locals={},e.exports=r},330:function(e,t,n){"use strict";n.r(t);n(328);var r=n(33),component=Object(r.a)({},function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"links desktop_view"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"}),e._v(" "),t("div",{staticClass:"col-7"},[t("div",{staticClass:"payment_part d-flex justify-content-left"},[t("nuxt-link",{staticClass:"a_link",class:{active:"/allbrands"===e.$route.path},attrs:{to:"/allbrands"}},[e._v("\n                            Shop By Brands\n                        ")]),e._v(" "),t("nuxt-link",{staticClass:"a_link",class:{active:"/allbrands"===e.$route.path},attrs:{to:"/allbrands"}},[e._v("\n                            All Products\n                        ")])],1)]),e._v(" "),t("div",{staticClass:"col-2"},[t("div",{staticClass:"payment_part d-flex justify-content-center"},[t("nuxt-link",{staticClass:"a_link",class:{active:"/track-orders"===e.$route.path},attrs:{to:"/track-orders"}},[e._v("\n                            Track Your Orders\n                        ")])],1)])])])])])},[],!1,null,null,null);t.default=component.exports},355:function(e,t,n){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},359:function(e,t,n){"use strict";var r=n(2),o=n(360).trim;r({target:"String",proto:!0,forced:n(361)("trim")},{trim:function(){return o(this)}})},360:function(e,t,n){"use strict";var r=n(4),o=n(22),c=n(14),l=n(355),d=r("".replace),m=RegExp("^["+l+"]+"),f=RegExp("(^|[^"+l+"])["+l+"]+$"),v=function(e){return function(t){var n=c(o(t));return 1&e&&(n=d(n,m,"")),2&e&&(n=d(n,f,"$1")),n}};e.exports={start:v(1),end:v(2),trim:v(3)}},361:function(e,t,n){"use strict";var r=n(95).PROPER,o=n(3),c=n(355);e.exports=function(e){return o(function(){return!!c[e]()||"​᠎"!=="​᠎"[e]()||r&&c[e].name!==e})}},400:function(e,t,n){var content=n(469);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(121).default)("65c6475a",content,!0,{sourceMap:!1})},468:function(e,t,n){"use strict";n(400)},469:function(e,t,n){var r=n(120)(function(i){return i[1]});r.push([e.i,".container[data-v-222e0b84]{margin:50px auto;max-width:600px;padding:0 20px}.message-input[data-v-222e0b84]{flex:1}.chat-box[data-v-222e0b84]{background:#f9f9f9;border-radius:10px;border-radius:0;box-shadow:0 4px 8px rgba(0,0,0,.1);display:flex;flex-direction:column;height:85vh;overflow:hidden}.chat-header[data-v-222e0b84]{background:linear-gradient(90deg,#4a90e2,#7b61ff);padding:10px 15px}.username-input[data-v-222e0b84]{border:none;border-radius:5px;color:#333;font-size:16px;outline:none;padding:10px;width:100%}.scrollarea[data-v-222e0b84]{background:#fff;display:flex;flex-direction:column;flex-grow:1;overflow-y:auto;padding:20px}.message-container[data-v-222e0b84]{display:flex;margin:5px 0}.message-container.sent[data-v-222e0b84]{justify-content:flex-end}.message-container.received[data-v-222e0b84]{justify-content:flex-start}.message[data-v-222e0b84]{background:#333;border-radius:15px;color:#000;max-width:80%;padding:10px 15px;width:50%}.sent .message[data-v-222e0b84]{background:#fff;border-bottom-right-radius:0;box-shadow:0 0 10px rgba(0,0,0,.302);padding:3px 15px}.sent .message-text[data-v-222e0b84]{align-items:end;color:#000;display:flex;flex-direction:column;font-size:12px}.received .message[data-v-222e0b84]{background:#4a90e2;border-bottom-left-radius:0;box-shadow:0 0 10px rgba(0,0,0,.302);padding:5px 15px}.received .message-username[data-v-222e0b84]{margin-bottom:2px}.message-username[data-v-222e0b84]{color:green}.message-username[data-v-222e0b84],.received .message-username[data-v-222e0b84]{font-size:12px;font-weight:700;margin-bottom:5px}.received .message-username[data-v-222e0b84]{color:#ffc458}.message-text[data-v-222e0b84]{color:#474646;display:flex;flex-direction:column}.received .message-text[data-v-222e0b84]{color:#fff}.message-text small[data-v-222e0b84]{align-self:flex-end;color:#5c5a5a;font-size:10px}.message-input[data-v-222e0b84]{border:1px solid #ddd;border-radius:5px;font-size:16px;outline:none;padding:10px;transition:border-color .3s;width:100%}.message-input[data-v-222e0b84]:focus{border-color:#4a90e2}.chat-messages[data-v-222e0b84]{flex:1;overflow-y:auto;padding:10px}.message_box main[data-v-222e0b84]{margin-top:5px}.chat-form[data-v-222e0b84]{background:#f1f1f1;bottom:55px;display:flex;gap:10px;padding:10px;position:fixed;  width: 100% !important}",""]),r.locals={},e.exports=r},613:function(e,t,n){"use strict";n.r(t);n(40);var r=n(6),o=(n(34),n(359),n(94),n(75),{data:function(){return{communitySlug:this.$route.query.slug,username:this.$route.query.username,name:this.$route.query.name,message:"",messages:[],isAtBottom:!0,chatMessagesRef:null,pollingInterval:null}},head:{title:"ChatBox"},mounted:function(){var e=this;this.fetchMessages(),this.pollingInterval=setInterval(this.fetchMessages,1e4),this.$nextTick(function(){e.chatMessagesRef=e.$refs.chatMessagesRef})},beforeDestroy:function(){clearInterval(this.pollingInterval)},methods:{fetchMessages:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,e.$axios.get("/messages/".concat(e.communitySlug));case 1:n=t.sent,e.messages=n.data,t.next=3;break;case 2:t.prev=2,r=t.catch(0),console.error("Error fetching messages:",r);case 3:case"end":return t.stop()}},t,null,[[0,2]])}))()},submit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.message.trim()){t.next=1;break}return console.log("Message is empty, not sending."),t.abrupt("return");case 1:return t.prev=1,t.next=2,e.$axios.post("/messages",{username:e.username,message:e.message,community_slug:e.communitySlug});case 2:return n=t.sent,console.log("Message sent:",n.data),e.message="",t.next=3,e.fetchMessages();case 3:e.$nextTick(function(){e.scrollToBottom()}),t.next=5;break;case 4:t.prev=4,r=t.catch(1),console.error("Error sending message:",r);case 5:case"end":return t.stop()}},t,null,[[1,4]])}))()},scrollToBottom:function(){var e=this.chatMessagesRef;e&&(e.scrollTop=e.scrollHeight)},onScroll:function(){var e=this.chatMessagesRef;e&&(this.isAtBottom=e.scrollHeight-e.scrollTop<=e.clientHeight+50)}}}),c=(n(468),n(33)),component=Object(c.a)(o,function(){var e=this,t=e._self._c;return t("div",[t("title",[e._v("Chat Box")]),e._v(" "),t("LogoAndPayment"),e._v(" "),t("NavbarSecond"),e._v(" "),t("div",{staticClass:"wrapper-inline message_box"},[t("main",[t("div",{staticClass:"conta"},[t("div",{staticClass:"chat-box"},[t("div",{staticClass:"chat-header"},[t("center",[t("u",{staticClass:"text-white",staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(e.communitySlug))])]),e._v(" "),t("span",{staticClass:"d-none"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"username-input",attrs:{type:"text",placeholder:"Enter your username",readonly:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])],1),e._v(" "),t("div",{staticClass:"chat-messages scrollarea",staticStyle:{"max-height":"550px"}},e._l(e.messages,function(n){return t("div",{key:n.id,class:{"message-container":!0,sent:n.username===e.username,received:n.username!==e.username}},[t("div",{staticClass:"message"},[t("div",{staticClass:"message-username"},[e._v(e._s(n.name))]),e._v(" "),t("div",{staticClass:"message-text"},[e._v("\n                  "+e._s(n.message)+"\n                  "),e._v(" "),t("small",[e._v(e._s(n.created_at))])])])])}),0),e._v(" "),t("form",{staticClass:"chat-form w-100",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"message-input",attrs:{placeholder:"Write a message"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})])])])])])],1)},[],!1,null,"222e0b84",null);t.default=component.exports;installComponents(component,{LogoAndPayment:n(330).default,NavbarSecond:n(331).default})}}]);